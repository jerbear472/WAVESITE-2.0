<!DOCTYPE html>
<html>
<head>
    <title>Simple Thumbnail Test</title>
    <style>
        body { font-family: Arial; max-width: 800px; margin: 50px auto; padding: 20px; }
        input { width: 100%; padding: 10px; font-size: 16px; margin: 10px 0; }
        button { background: #007bff; color: white; padding: 10px 20px; border: none; cursor: pointer; }
        .result { margin-top: 20px; padding: 20px; background: #f0f0f0; border-radius: 5px; }
        img { max-width: 400px; margin-top: 10px; border: 2px solid #ddd; }
        .error { color: red; }
        .success { color: green; }
    </style>
</head>
<body>
    <h1>üéØ Simple Thumbnail Extractor Test</h1>
    
    <input type="url" id="url" placeholder="Paste TikTok, YouTube, or Instagram URL..." 
           value="https://www.youtube.com/watch?v=dQw4w9WgXcQ">
    <button onclick="testExtraction()">Extract Thumbnail</button>
    
    <div id="result"></div>
    
    <script>
        function testExtraction() {
            const url = document.getElementById('url').value;
            const resultDiv = document.getElementById('result');
            
            // Simple extraction logic
            let thumbnailUrl = '';
            let platform = '';
            
            // TikTok
            if (url.includes('tiktok.com')) {
                platform = 'TikTok';
                const videoIdMatch = url.match(/video\/(\d+)/);
                if (videoIdMatch) {
                    const videoId = videoIdMatch[1];
                    thumbnailUrl = `https://p16-sign-sg.tiktokcdn.com/obj/tos-alisg-p-0037/${videoId}~tplv-obj.jpg`;
                }
            }
            // YouTube
            else if (url.includes('youtube.com') || url.includes('youtu.be')) {
                platform = 'YouTube';
                let videoId = null;
                if (url.includes('youtube.com')) {
                    const match = url.match(/[?&]v=([^&]+)/);
                    if (match) videoId = match[1];
                } else if (url.includes('youtu.be')) {
                    const match = url.match(/youtu\.be\/([^?]+)/);
                    if (match) videoId = match[1];
                }
                if (videoId) {
                    thumbnailUrl = `https://img.youtube.com/vi/${videoId}/hqdefault.jpg`;
                }
            }
            // Instagram
            else if (url.includes('instagram.com')) {
                platform = 'Instagram';
                const postMatch = url.match(/\/(p|reel|reels)\/([A-Za-z0-9_-]+)/);
                if (postMatch) {
                    const postId = postMatch[2];
                    thumbnailUrl = `https://www.instagram.com/p/${postId}/media/?size=l`;
                }
            }
            
            // Display result
            if (thumbnailUrl) {
                resultDiv.innerHTML = `
                    <div class="success">‚úÖ ${platform} thumbnail extracted!</div>
                    <div><strong>URL:</strong> ${thumbnailUrl}</div>
                    <img src="${thumbnailUrl}" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22400%22 height=%22300%22%3E%3Crect fill=%22%23ddd%22 width=%22400%22 height=%22300%22/%3E%3Ctext x=%22200%22 y=%22150%22 text-anchor=%22middle%22 fill=%22%23999%22%3EThumbnail failed to load%3C/text%3E%3C/svg%3E'">
                `;
            } else {
                resultDiv.innerHTML = '<div class="error">‚ùå Could not extract thumbnail from this URL</div>';
            }
        }
        
        // Test on load
        window.onload = () => testExtraction();
    </script>
</body>
</html>